uwsgi:
  master: true
  # reasonable number of workers = cores + 2
  workers: %(%k + 2)
  enable-threads: true
  uwsgi-socket: 127.0.0.1:8000
  pidfile: /app/uwsgi.pid
  # buffer-size= max size of request head (cookies, query string), default= 4096
  buffer-size: 8192
  chdir: /app/ecs
  module: ecs.wsgi
  # activate uwsgi metrics
  stats: 127.0.0.1:8017
  stats-http: true
  # friendly reload if resident memory size exceeds 1G
  reload-on-rss: 1024
  # forcefully reload if resident memory size exceeds 2,5G
  evil-reload-on-rss: 2500
  # reloads the worker after 100 managed requests
  max-requests: 100
